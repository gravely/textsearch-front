(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dcc09ca"],{"24b3":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"multiple-conditional-query"},e._l(e.conditions,function(t,a){return i("div",{key:a,staticClass:"condition"},[i("Checkbox",{staticClass:"condition-check",model:{value:t.isChecked,callback:function(i){e.$set(t,"isChecked",i)},expression:"item.isChecked"}},[e._v(e._s(t.label))]),i("Input",{staticClass:"value",attrs:{placeholder:"请输入"+t.label},model:{value:t.searchValue,callback:function(i){e.$set(t,"searchValue",i)},expression:"item.searchValue"}})],1)}),0)},n=[],s={name:"multiple-condition-query",props:{conditions:Array},data:function(){return{conditionSelect:"",conditionsValue:"",tags:[]}},methods:{}},o=s,r=(i("7239"),i("2877")),c=Object(r["a"])(o,a,n,!1,null,null,null);t["a"]=c.exports},7239:function(e,t,i){"use strict";var a=i("d20c"),n=i.n(a);n.a},"8e5e":function(e,t,i){"use strict";var a=i("f831"),n=i.n(a);n.a},ab33:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Card",{staticClass:"standard-comparison document-retrieval"},[i("div",{staticClass:"operate-area border"},[i("div",{staticClass:"input-conditions"},[i("div",{staticClass:"simple"},[i("Input",{staticClass:"operate-area-item input",attrs:{placeholder:"关键字"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[i("Icon",{attrs:{slot:"prefix",type:"ios-search"},on:{click:e.getList},slot:"prefix"})],1)],1),e.showMultiple?i("div",{staticClass:"multiple"},[i("p",{staticClass:"show-multiple-info",on:{click:function(t){return e.changeShowMultiple(!1)}}},[i("Icon",{attrs:{type:"ios-arrow-dropup-circle"}}),i("span",[e._v("收起")])],1),i("multiple-condition-query",{ref:"multipleQuery",attrs:{conditions:e.conditions}})],1):i("div",{staticClass:"show-multiple-info",on:{click:function(t){return e.changeShowMultiple(!0)}}},[i("Icon",{attrs:{type:"ios-arrow-dropdown-circle"}}),i("span",[e._v("显示更多查询条件")])],1)]),i("div",{staticClass:"btns"},[i("Button",{staticClass:"operate-area-item",attrs:{type:"info"},on:{click:e.search}},[e._v("查询")]),i("Button",{staticClass:"operate-area-item",on:{click:e.resetSearch}},[e._v("重置查询条件")])],1)]),i("Table",{attrs:{loading:e.isLoading,columns:e.column,data:e.data}}),e.total>0?i("Page",{staticClass:"page",attrs:{total:e.total,"page-size":e.pageSize,"show-elevator":"","show-total":"",current:e.currentPage},on:{"on-change":e.changePage}}):e._e()],1)},n=[],s=(i("7f7f"),i("66df")),o=function(e){return s["a"].request({url:"text/image-table",method:"get",params:e})},r=i("90de"),c=i("24b3"),l={name:"standard-comparison",components:{MultipleConditionQuery:c["a"]},data:function(){var e=this,t=[{value:"docCode",label:"编号",isChecked:!1,searchValue:""},{value:"name",label:"名称",isChecked:!1,searchValue:""},{value:"type",label:"类型",isChecked:!1,searchValue:""}];return{conditions:t,currentPage:1,pageSize:5,keyword:"",total:0,isLoading:!1,searchValue:"",searchCondition:"",showMultiple:!1,changeTypeFormate:["船舰关键技术标准要素库","重点型号标准要素库","船舰标准化动态要素库","军民标准通用化要素库"],column:[{title:"编号",key:"docCode"},{title:"文件名称",key:"name"},{title:"类型",key:"type",render:function(t,i){return t("span",e.changeTypeFormate[i.row.type])}},{title:"内容",key:"content",render:function(t,i){return t("div",{class:"highlight-div"},Object(r["d"])(t,i.row.content,e.keyword))}},{title:"页码",key:"page"},{title:"操作",key:"operation",minWidth:100,render:function(t,i){return t("div",[t("Button",{props:{size:"small",type:"info"},on:{click:function(){var t=e.$pathPrefix.viewUrl,a=e.$router.resolve({path:"/information_analysis/pdf",query:{link:t+i.row.uuid,page:i.row.page,name:i.row.name}}),n=a.href;window.open(n,"_blank")}}},"查看原文")])}}],data:[]}},mounted:function(){},methods:{changePage:function(e){this.currentPage=e,this.getList()},changeShowMultiple:function(e){this.showMultiple=e,this.resetMultipleQuery()},resetMultipleQuery:function(){this.conditions=this.conditions.map(function(e){var t={value:e.value,label:e.label,isChecked:!1,searchValue:""};return t})},resetSearch:function(){this.keyword="",this.searchValue="",this.searchCondition="",this.showMultiple=!1,this.resetMultipleQuery()},search:function(){this.currentPage=1,this.getList()},getMultipleConditions:function(e){for(var t=0;t<this.conditions.length;t++)if(this.conditions[t].isChecked){if(""===this.conditions[t].searchValue)return void this.$Message.error("请输入"+this.conditions[t].label);e[this.conditions[t].value]=this.conditions[t].searchValue}return e},getList:function(){var e=this,t={currentPage:this.currentPage,pageSize:this.pageSize};this.keyword&&(t["keyword"]=this.keyword),this.showMultiple&&(t=this.getMultipleConditions(t)),this.isLoadig=!0,o(t).then(function(t){t.data.result&&(e.data=t.data.result.rows,e.total=t.data.result.total)}).catch(function(e){console.error(e)}).then(function(){e.isLoadig=!1})}}},u=l,d=(i("8e5e"),i("2877")),h=Object(d["a"])(u,a,n,!1,null,"92642e82",null),p=h.exports;t["default"]=p},d20c:function(e,t,i){},f831:function(e,t,i){}}]);